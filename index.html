<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€æ—¥æ›¿ã‚ã‚Šã€‘åè¨€ãƒ»æ ¼è¨€é›†ï½œäººç”Ÿãƒ»æˆåŠŸã®æ•™è¨“ã¨æ·±æ˜ã‚Šè§£èª¬</title>
    
    <!-- ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ã®è¿½åŠ  -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ’¡</text></svg>">
    
    <!-- ãƒ¡ã‚¿ã‚¿ã‚°ï¼ˆDescription, Keywordsï¼‰ã®è¿½åŠ  -->
    <meta name="description" content="å³é¸ã•ã‚ŒãŸæ­´å²ä¸Šã®åè¨€ã¨ã€ãã®èƒŒæ™¯ãƒ»æ„å‘³ã‚’æ·±ãè§£èª¬ã€‚æ¯æ—¥ã‚’è±Šã‹ã«ã™ã‚‹æ•™è¨“ãŒè¦‹ã¤ã‹ã‚Šã¾ã™ã€‚">
    <meta name="keywords" content="åè¨€,æ ¼è¨€,è‡ªå·±å•“ç™º,äººç”Ÿ,æˆåŠŸ,ä»•äº‹è¡“,ç¿’æ…£åŒ–,ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³,ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—,æ·±æ˜ã‚Šè§£èª¬,æ—¥ã‚ãã‚Š,ã‚¿ã‚°æ¤œç´¢,è‘—è€…">

    <!-- OGPã‚¿ã‚°ï¼ˆSNSã‚·ã‚§ã‚¢æœ€é©åŒ–ï¼‰ã®è¿½åŠ  -->
    <meta property="og:title" content="ã€ä»Šæ—¥ã®æ•™è¨“ã€‘æ—¥æ›¿ã‚ã‚Šåè¨€ãƒ»æ ¼è¨€é›†ã¨å¾¹åº•è§£èª¬">
    <meta property="og:description" content="å³é¸åè¨€ã‚’æ·±æ˜ã‚Šè§£èª¬ã€‚ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å‘ä¸Šã€è‡ªå·±å•“ç™ºã«ã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://meigen-kakugen.com/index.html"> 
    <meta property="og:image" content="https://placehold.co/1200x630/4f46e5/ffffff?text=MEIGEN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@meigen_bot"> 
    
    <!-- Tailwind CSS CDNã‚’ãƒ­ãƒ¼ãƒ‰ -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts (UIç”¨ã®Inter, åè¨€ç”¨ã®Noto Serif JP) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Serif+JP:wght@400;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9; /* Slate 100 */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .main-container {
            max-width: 48rem; /* å¹…ã‚’åºƒã’ã€ã‚ˆã‚Šå¤šãã®æƒ…å ±ã‚’è¡¨ç¤º */
            width: 100%;
        }

        /* åè¨€ç”¨ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’é©ç”¨ */
        #quote-text {
            font-family: 'Noto Serif JP', serif;
            font-size: 1.5rem; /* 24px */
            line-height: 2.25rem; /* 36px */
            font-weight: 400;
            min-height: 100px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 120px; /* CLSå¯¾ç­– */
        }
        
        /* è‘—è€…ç”¨ã®ãƒ•ã‚©ãƒ³ãƒˆ */
        #quote-author {
            font-family: 'Inter', sans-serif;
            font-size: 1rem; /* 16px */
        }

        /* ãƒ•ãƒƒã‚¿ãƒ¼ã‚’ä¸‹ã«å›ºå®š */
        footer {
            margin-top: auto;
            width: 100%;
            max-width: 48rem;
            padding-top: 20px;
            text-align: center;
        }

        /* ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ */
        .fade-in {
            transition: opacity 0.3s ease-in-out;
        }

        /* é€šçŸ¥ãƒœãƒƒã‚¯ã‚¹ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #notification-box {
            transition: opacity 0.3s ease-in-out;
        }
        
        /* CLSå¯¾ç­–: è§£èª¬ã‚¨ãƒªã‚¢ã®æœ€ä½é«˜ã•ã‚’ç¢ºä¿ */
        #explanation-area {
            min-height: 150px; 
        }

        /* åºƒå‘Šã‚³ãƒ³ãƒ†ãƒŠã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .ad-unit-container {
            margin-top: 24px; 
            margin-bottom: 24px;
            padding: 12px 0; 
            text-align: center;
            border-top: 1px dashed #e5e7eb; 
            border-bottom: 1px dashed #e5e7eb;
        }
        
        #generate-btn {
            margin-top: 32px; 
        }

        /* é™çš„ãƒªã‚¹ãƒˆç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .static-quote-card {
            border: 1px solid #e5e7eb; 
            border-radius: 0.75rem; 
            padding: 1rem;
            margin-bottom: 1.5rem;
            background-color: #f9fafb; 
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05);
        }
        .static-quote-text {
            font-family: 'Noto Serif JP', serif;
            font-size: 1.125rem; 
            font-weight: 700; 
            color: #1f2937; 
            margin-bottom: 0.5rem;
        }
        .static-author-text {
            font-size: 0.875rem; 
            color: #4b5563; 
            text-align: right;
            margin-bottom: 0.75rem;
        }
        .static-explanation-text {
            font-size: 0.875rem; 
            color: #374151; 
            line-height: 1.6;
        }
    </style>
    
    <!-- Google AdSenseèªè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (HEADå†…) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6721819057047925"
     crossorigin="anonymous"></script>
     
    <!-- Google CMP åŒæ„ç®¡ç†ã‚³ãƒ¼ãƒ‰ -->
    <script async src="https://fundingchoicesmessages.google.com/i/pub-6721819057047925?cmp_v=2" nonce=""></script>
    <script>
        (function() {
            function handleGmpu() {
                if (!window.frames['__gmpuframe']) {
                    var iframe = document.createElement('iframe');
                    iframe.style.display = 'none';
                    iframe.name = '__gmpuframe';
                    document.body.appendChild(iframe);
                }
            }
            handleGmpu();
        })();
    </script>
    
    <!-- JSON-LD æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ  -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "ã€æ—¥æ›¿ã‚ã‚Šã€‘åè¨€ãƒ»æ ¼è¨€é›†ï½œäººç”Ÿãƒ»æˆåŠŸã®æ•™è¨“ã¨æ·±æ˜ã‚Šè§£èª¬",
      "description": "å³é¸ã•ã‚ŒãŸåè¨€ã¨ã€ãã®èƒŒæ™¯ãƒ»æ„å‘³ã‚’æ·±ãè§£èª¬ã€‚æ¯æ—¥ã‚’è±Šã‹ã«ã™ã‚‹æ•™è¨“ãŒè¦‹ã¤ã‹ã‚Šã¾ã™ã€‚",
      "url": "https://meigen-kakugen.com/index.html", 
      "inLanguage": "ja",
      "mainContentOfPage": {
        "@type": "Article",
        "headline": "åè¨€ãƒ»æ ¼è¨€é›†",
        "datePublished": "2024-01-01", 
        "author": {
          "@type": "Organization",
          "name": "æ ¼è¨€ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼"
        }
      }
    }
    </script>

</head>
<body>

<div class="main-container bg-white p-8 sm:p-12 rounded-2xl shadow-xl mb-4">
    
    <!-- H1ã‚¿ã‚° -->
    <h1 class="text-3xl font-bold text-center mb-4 text-indigo-600">
        æ—¥æ›¿ã‚ã‚Š åè¨€ãƒ»æ ¼è¨€é›†
    </h1>
    
    <!-- ç´¢å¼•ã¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="flex justify-center gap-4 text-sm mb-6 pb-2 border-b border-gray-100">
        <a href="tag-index.html" class="text-indigo-600 hover:text-indigo-800 font-medium transition duration-200">
            ğŸ“š ãƒ†ãƒ¼ãƒåˆ¥ç´¢å¼•
        </a>
        <span class="text-gray-300">|</span>
        <a href="author-index.html" class="text-indigo-600 hover:text-indigo-800 font-medium transition duration-200">
            ğŸ‘¤ è‘—è€…åˆ¥ç´¢å¼•
        </a>
    </nav>
    
    <!-- åºƒå‘Šã‚³ãƒ¼ãƒ‰ã®æŒ¿å…¥å ´æ‰€ 2: ãƒˆãƒƒãƒ—ãƒãƒŠãƒ¼åºƒå‘Š -->
    <div id="ad-container-top" class="ad-unit-container">
        <p class="text-xs font-bold text-gray-400 mb-2">ã€ã‚¹ãƒãƒ³ã‚µãƒ¼ãƒªãƒ³ã‚¯ã€‘</p>
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-6721819057047925"
             data-ad-slot="2834631640" 
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
    
    <!-- ç¾åœ¨ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°çŠ¶æ…‹ã‚’è¡¨ç¤ºã™ã‚‹ã‚¨ãƒªã‚¢ -->
    <div id="filter-status" class="text-center mb-6 min-h-[30px]">
        <span id="current-filter-tag" class="text-sm font-medium text-gray-500">
            ã™ã¹ã¦ã®æ•™è¨“ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«è¡¨ç¤ºä¸­ <span class="text-xs text-gray-400">(ã‚¿ã‚°ã‚’ã‚¯ãƒªãƒƒã‚¯ã§çµã‚Šè¾¼ã¿)</span>
        </span>
    </div>
    
    <!-- åè¨€è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
    <div class="mb-8 min-h-[150px]">
        <blockquote class="relative">
            <!-- å¼•ç”¨ç¬¦ï¼ˆå·¦ï¼‰ -->
            <span class="absolute -left-4 -top-6 text-8xl text-gray-200 opacity-50 select-none">â€œ</span>
            
            <!-- åè¨€ãƒ†ã‚­ã‚¹ãƒˆ -->
            <p id="quote-text" class="mb-4 text-gray-800 font-normal fade-in">
                ã€Œä»Šæ—¥ã®æ•™è¨“ã‚’è¦‹ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€æ–°ã—ã„åè¨€ã‚’è¡¨ç¤ºã—ã¾ã—ã‚‡ã†ã€‚
            </p>
            
            <!-- å¼•ç”¨ç¬¦ï¼ˆå³ï¼‰ -->
            <span class="absolute -right-4 -bottom-10 text-8xl text-gray-200 opacity-50 select-none">â€</span>
        </blockquote>
        
        <!-- ã‚¿ã‚°è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <div id="tags-container" class="flex justify-center flex-wrap gap-2 mt-4 fade-in min-h-[28px]">
            <!-- ã‚¿ã‚°ãƒãƒƒã‚¸ãŒJavaScriptã§æŒ¿å…¥ã•ã‚Œã‚‹ -->
        </div>

        <p id="quote-author" class="text-right text-gray-600 font-medium mt-4 pr-4 fade-in">
            â€”
        </p>
    </div>
    
    <!-- æ“ä½œãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ -->
    <div class="flex flex-col sm:flex-row gap-4 mt-8 w-full">
        <!-- åè¨€è¡¨ç¤ºãƒœã‚¿ãƒ³ -->
        <button id="generate-btn" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-full transition-all duration-300 transform hover:scale-[1.03] shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 relative">
            <span id="button-text">ä»Šæ—¥ã®æ•™è¨“ã‚’è¦‹ã‚‹</span>
        </button>
        <!-- ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ -->
        <button id="share-btn" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-full transition-all duration-300 transform hover:scale-[1.03] shadow-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50" disabled>
            åè¨€ã‚’ã‚·ã‚§ã‚¢
        </button>
    </div>
    
    <!-- è§£èª¬ã‚¨ãƒªã‚¢ (H2ã‚¿ã‚°) -->
    <div class="mt-4 pt-4 border-t border-gray-200">
        <h2 class="text-xl font-semibold text-gray-700 mb-3 text-center">åè¨€ã®æ·±æ˜ã‚Šè§£èª¬</h2>
        
        <!-- è§£èª¬è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <div id="explanation-area" class="bg-gray-50 p-4 rounded-xl shadow-inner min-h-[150px] flex flex-col justify-center items-center">
            <p id="explanation-text" class="text-gray-700 text-sm leading-relaxed text-left">
                ã€Œä»Šæ—¥ã®æ•™è¨“ã‚’è¦‹ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€å³é¸ã•ã‚ŒãŸåè¨€ã«å¯¾ã™ã‚‹è§£èª¬æ–‡ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
            </p>
        </div>
    </div>
    
    <!-- é–¢é€£æƒ…å ±ã‚¨ãƒªã‚¢ -->
    <div id="recommendation-area" class="mt-8 pt-4 border-t border-gray-200 text-center hidden fade-in">
        <p class="text-sm font-semibold text-gray-600 mb-3">ä»Šæ—¥ã®æ•™è¨“ã‚’ã•ã‚‰ã«æ·±ã‚ã‚‹ï¼š</p>
        <!-- ãƒªãƒ³ã‚¯ã¯JavaScriptã§å‹•çš„ã«æŒ¿å…¥ã•ã‚Œã¾ã™ -->
        <div id="recommendation-links" class="flex flex-wrap justify-center gap-2">
            <!-- è‘—è€…ãƒªãƒ³ã‚¯ã¨ãƒ†ãƒ¼ãƒåˆ¥ãƒªãƒ³ã‚¯ãŒã“ã“ã«å…¥ã‚‹ -->
        </div>
    </div>

</div>

<!-- åºƒå‘Šã‚³ãƒ¼ãƒ‰ã®æŒ¿å…¥å ´æ‰€ 3: è¨˜äº‹ä¸‹/ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é–“åºƒå‘Š -->
<div id="ad-container-bottom" class="main-container ad-unit-container">
    <p class="text-xs font-bold text-gray-400 mb-2">ã€é–¢é€£ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‘</p>
    <!-- AdSenseåºƒå‘Šãƒ¦ãƒ‹ãƒƒãƒˆã‚³ãƒ¼ãƒ‰: åè¨€æ ¼è¨€ä¸‹éƒ¨ãƒãƒŠãƒ¼ (æ­£å¼ãªID: 3484248774) -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-6721819057047925"
         data-ad-slot="3484248774"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<!-- /åºƒå‘Šã‚³ãƒ¼ãƒ‰ã®æŒ¿å…¥å ´æ‰€ 3 -->

<!-- æ—¢å­˜ã®é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡å¼·åŒ–) -->
<div class="main-container bg-white p-8 sm:p-12 rounded-2xl shadow-xl mt-4">
    <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2 border-indigo-100">
        ğŸ’¡ ã€Œä»Šæ—¥ã®ä¸€è¨€ã€ãŒäººç”Ÿã‚’å¤‰ãˆã‚‹ç†ç”±
    </h2>
    <p class="text-gray-600 text-sm mb-4 leading-relaxed">
        ã“ã®åè¨€ãƒ»æ ¼è¨€é›†ã¯ã€æ­´å²ä¸Šã®å‰äººã‚„æˆåŠŸè€…ãŸã¡ãŒæ®‹ã—ãŸæ™®éçš„ãªçŸ¥æµã‚’å³é¸ã—ã€ãŠå±Šã‘ã—ã¾ã™ã€‚
        æˆåŠŸã¨ã¯ã€ä¸€ç¬ã®é–ƒãã§ã¯ãªãã€æ¯æ—¥ã®å°ã•ãªè¡Œå‹•ã¨æ­£ã—ã„ãƒã‚¤ãƒ³ãƒ‰ã‚»ãƒƒãƒˆã®ç©ã¿é‡ã­ã«ã‚ˆã£ã¦é”æˆã•ã‚Œã¾ã™ã€‚
        ç§ãŸã¡ãŒæä¾›ã™ã‚‹åè¨€ã¯ã€å˜ãªã‚‹è¨€è‘‰ã®ç¾…åˆ—ã§ã¯ãªãã€ãã®èƒŒæ™¯ã«ã‚ã‚‹æ·±ã„**æ•™è¨“**ã¨ã€ãã‚Œã‚’**ã‚ãªãŸã®ç¾ä»£ã®ç”Ÿæ´»ã‚„ä»•äº‹ã«å¿œç”¨ã™ã‚‹æ–¹æ³•**ã‚’å¾¹åº•çš„ã«è§£èª¬ã—ã¦ã„ã¾ã™ã€‚
        ç‰¹ã«ã€**ã€Œãªãœãã®åè¨€ãŒä»Šã‚‚é‡è¦ãªã®ã‹ã€**ã¨ã„ã†è¦–ç‚¹ã§ã€å…·ä½“çš„ãªè¡Œå‹•æŒ‡é‡ã‚’æç¤ºã—ã¦ã„ã¾ã™ã€‚
    </p>
    <p class="text-gray-600 text-sm mb-4 leading-relaxed">
        **ã€åè¨€ãŒã‚‚ãŸã‚‰ã™å…·ä½“çš„ãªåŠ¹æœã€‘**
        <ul class="list-disc list-inside ml-4 text-sm text-gray-700 space-y-1 mt-2">
            <li>**ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã®å†ç‚¹ç«:** å‰äººã®è¨€è‘‰ã«è§¦ã‚Œã‚‹ã“ã¨ã§ã€åœæ»ã—ãŸæ°—æŒã¡ã«ç«ã‚’ã¤ã‘ã€è¡Œå‹•ã¸ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å†å……é›»ã§ãã¾ã™ã€‚</li>
            <li>**æ„æ€æ±ºå®šã®è³ªã®å‘ä¸Š:** å›°é›£ãªçŠ¶æ³ã§ã€å…ˆäººã®çŸ¥æµãŒãƒ–ãƒ¬ãªã„åˆ¤æ–­è»¸ã‚’æä¾›ã—ã¦ãã‚Œã¾ã™ã€‚</li>
            <li>**è‡ªå·±æˆé•·ã®åŠ é€Ÿ:** ç¿’æ…£åŒ–ã€å¤±æ•—ã¸ã®å‘ãåˆã„æ–¹ãªã©ã€è‡ªå·±æˆé•·ã«ç›´çµã™ã‚‹æ•™è¨“ã‚’ä½“ç³»çš„ã«å­¦ã¹ã¾ã™ã€‚</li>
        </ul>
    </p>
    <p class="text-gray-600 text-sm leading-relaxed italic border-t pt-3 mt-4">
        æ¯æœã€æ–°ã—ã„åè¨€ã«è§¦ã‚Œã‚‹ã“ã¨ã§ã€ã‚ãªãŸã®æ€è€ƒã¯ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã•ã‚Œã€è¡Œå‹•ã¸ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚ã•ã‚ã€ã‚ãªãŸã‚‚ä»Šæ—¥ã®æ•™è¨“ã‚’è¦‹ã¤ã‘ã¦ã€äººç”Ÿã®æ–°ãŸãªä¸€æ­©ã‚’è¸ã¿å‡ºã—ã¾ã—ã‚‡ã†ã€‚
    </p>
</div>
<!-- /æ—¢å­˜ã®é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->

<!-- é™çš„åè¨€ä¸€è¦§ (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡å¤§å¹…å¼·åŒ– / SEOå¯¾ç­–) -->
<div id="static-quotes-list" class="main-container bg-white p-8 sm:p-12 rounded-2xl shadow-xl mt-4">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2 border-indigo-100">
        ğŸ“š åéŒ²åè¨€ãƒ»æ ¼è¨€ã¨æ·±æ˜ã‚Šè§£èª¬ï¼ˆå…¨33é¸ï¼‰
    </h2>
    <!-- ã“ã“ã«JavaScriptã§ç”Ÿæˆã—ãŸé™çš„ãƒªã‚¹ãƒˆã‚’æŒ¿å…¥ã™ã‚‹ -->
    <div id="all-quotes-list-content">
        <!-- JavaScriptã«ã‚ˆã£ã¦ã™ã¹ã¦ã®åè¨€ãŒã“ã“ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ -->
    </div>
</div>

<footer>
    <div class="text-sm text-gray-500 space-x-4">
        <a href="privacy.html" class="hover:underline text-indigo-600">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
        <a href="terms.html" class="hover:underline text-indigo-600">åˆ©ç”¨è¦ç´„</a>
        <span class="text-gray-400">|</span>
        <span class="text-gray-500">å½“ã‚µã‚¤ãƒˆã¯Amazon.co.jpã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆã«å‚åŠ ã—ã¦ã„ã¾ã™ã€‚</span>
    </div>
</footer>

<!-- 1. é€šçŸ¥ãƒœãƒƒã‚¯ã‚¹ (ç”»é¢ä¸‹ä¸­å¤®ã«å›ºå®šè¡¨ç¤º) -->
<div id="notification-box" class="fixed bottom-5 left-1/2 transform -translate-x-1/2 p-3 bg-gray-900 text-white text-sm rounded-lg shadow-2xl opacity-0 transition-opacity duration-300 pointer-events-none z-50">
    <span id="notification-message"></span>
</div>

<!-- 2. å…±æœ‰ãƒ¢ãƒ¼ãƒ€ãƒ« (ç”»é¢ä¸­å¤®ã«è¡¨ç¤º) -->
<div id="share-modal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-40 modal-leave-to" style="display: none;">
    <div class="bg-white p-6 rounded-2xl shadow-2xl max-w-sm w-full mx-4 transform transition-all">
        <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">åè¨€ã‚’ã‚·ã‚§ã‚¢ã™ã‚‹</h3>
        
        <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã§å…±æœ‰ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
        <div class="bg-indigo-50 p-3 rounded-lg text-sm text-gray-700 mb-4 border border-indigo-200">
            <p id="modal-quote-preview" class="font-medium italic text-center"></p>
        </div>

        <div class="flex flex-col gap-3">
            <!-- Twitter å…±æœ‰ãƒœã‚¿ãƒ³ (JSåˆ¶å¾¡) -->
            <button id="share-twitter-btn" class="flex items-center justify-center gap-3 bg-blue-400 hover:bg-blue-500 text-white font-bold py-3 rounded-full transition duration-200 transform hover:scale-[1.02] shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M18.901 1.153h3.586l-8.73 10.04h10.89l-14.61 9.92h-3.66l8.89-10.22h-10.89z"/></svg>
                Twitter (X) ã§ã‚·ã‚§ã‚¢
            </button>

            <!-- LINE å…±æœ‰ãƒœã‚¿ãƒ³ (JSåˆ¶å¾¡) -->
            <button id="share-line-btn" class="flex items-center justify-center gap-3 bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-full transition duration-200 transform hover:scale-[1.02] shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M11.96 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm4.332 17.618h-8.583c-.341 0-.616-.275-.616-.615v-8.583c0-.341.275-.616.616-.616h8.583c.341 0 .615.275.615.616v8.583c0 .341-.274.615-.615.615z"/></svg>
                LINE ã§å‹ã ã¡ã«é€ã‚‹
            </button>

            <!-- ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ -->
            <button id="copy-text-btn" class="flex items-center justify-center gap-3 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 rounded-full transition duration-200 transform hover:scale-[1.02] shadow-md">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                ã€è§£èª¬ä»˜ãã€‘å…¨æ–‡ã‚’ã‚³ãƒ”ãƒ¼
            </button>
        </div>

        <button id="close-modal-btn" class="mt-4 w-full text-sm text-gray-500 hover:text-gray-800 transition duration-200">
            é–‰ã˜ã‚‹
        </button>
    </div>
</div>

<script>
    // ===================================
    // 1. ãƒ‡ãƒ¼ã‚¿ã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
    // ===================================
    
    // ã€é‡è¦ã€‘å›ºå®šã®åè¨€ãƒ‡ãƒ¼ã‚¿é…åˆ— (å…¨33å€‹)
    const ALL_QUOTES = [
        { quote: "æƒ³åƒåŠ›ã¯çŸ¥è­˜ã‚ˆã‚Šã‚‚é‡è¦ã ã€‚çŸ¥è­˜ã«ã¯é™ç•ŒãŒã‚ã‚‹ãŒã€æƒ³åƒåŠ›ã¯ä¸–ç•Œã‚’åŒ…ã¿è¾¼ã‚€ã€‚", author: "ã‚¢ãƒ«ãƒ™ãƒ«ãƒˆãƒ»ã‚¢ã‚¤ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³", tags: ["ç§‘å­¦", "å‰µé€ æ€§"], explanation: "çŸ¥è­˜ã¯éå»ã®è“„ç©ã§ã™ãŒã€æƒ³åƒåŠ›ã¯æœªæ¥ã‚’å‰µé€ ã™ã‚‹åŠ›ã§ã™ã€‚ã‚¢ã‚¤ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³ã¯ã€é™ç•Œã®ã‚ã‚‹çŸ¥è­˜ã‚’è¶…ãˆã¦ã€æ–°ã—ã„å¯èƒ½æ€§ã‚’è¦‹å‡ºã™ã«ã¯è‡ªç”±ãªç™ºæƒ³ãŒä¸å¯æ¬ ã§ã‚ã‚‹ã¨èª¬ãã¾ã—ãŸã€‚ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã®æºæ³‰ã¨ãªã‚‹æ•™ãˆã§ã™ã€‚" },
        { quote: "ãƒãƒ³ã‚°ãƒªãƒ¼ã§ã‚ã‚Œã€‚æ„šã‹ã§ã‚ã‚Œã€‚\n\n(Stay hungry, stay foolish.)", author: "ã‚¹ãƒ†ã‚£ãƒ¼ãƒ–ãƒ»ã‚¸ãƒ§ãƒ–ã‚º", tags: ["ãƒ“ã‚¸ãƒã‚¹", "é©æ–°"], explanation: "ç¾çŠ¶ã«æº€è¶³ã›ãšå¸¸ã«è²ªæ¬²ã«å­¦ã³ç¶šã‘ã€å¸¸è­˜ã«ã¨ã‚‰ã‚ã‚Œãªã„å¤§èƒ†ãªç™ºæƒ³ã‚’æŒã¡ç¶šã‘ã‚‹ã“ã¨ã®é‡è¦æ€§ã‚’èª¬ã„ãŸè¨€è‘‰ã§ã™ã€‚æ—¢æˆæ¦‚å¿µã‚’æ‰“ã¡ç ´ã‚Šã€æ–°ã—ã„ä¾¡å€¤ã‚’å‰µé€ ã™ã‚‹ãŸã‚ã®ãƒã‚¤ãƒ³ãƒ‰ã‚»ãƒƒãƒˆã§ã™ã€‚" },
        { quote: "å¤¢è¦‹ã‚‹ã“ã¨ãŒã§ãã‚Œã°ã€ãã‚Œã¯å®Ÿç¾ã§ãã‚‹ã€‚", author: "ã‚¦ã‚©ãƒ«ãƒˆãƒ»ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼", tags: ["å¤¢", "å®Ÿç¾"], explanation: "ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼ã®å‰µé€ ã®åŸç‚¹ã¯ã€ã¾ãšé®®æ˜ã«å¤¢ã‚’æãã“ã¨ã«ã‚ã‚Šã¾ã—ãŸã€‚ãƒ“ã‚¸ãƒ§ãƒ³ã‚’æ˜ç¢ºã«æŒã¡ã€ãã‚Œã‚’ä¿¡ã˜æŠœãã“ã¨ãŒã€ç¾å®Ÿã‚’å¤‰ãˆã‚‹ç¬¬ä¸€æ­©ã¨ãªã‚‹ã¨ã„ã†åŠ›å¼·ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™ã€‚" },
        { quote: "æ˜æ—¥æ­»ã¬ã‹ã®ã‚ˆã†ã«ç”Ÿãã‚ˆã€‚æ°¸é ã«ç”Ÿãã‚‹ã‹ã®ã‚ˆã†ã«å­¦ã¹ã€‚", author: "ãƒãƒãƒˆãƒãƒ»ã‚¬ãƒ³ãƒ‡ã‚£ãƒ¼", tags: ["äººç”Ÿ", "å­¦ç¿’"], explanation: "ã€Œä»Šã€ã‚’å¤§åˆ‡ã«ã™ã‚‹æƒ…ç†±ã¨ã€æœªæ¥ã¸ã®è‡ªå·±æŠ•è³‡ã¨ã—ã¦ã®å­¦ç¿’ã‚’ä¸¡ç«‹ã•ã›ã‚‹ã“ã¨ã®é‡è¦æ€§ã‚’èª¬ã„ã¦ã„ã¾ã™ã€‚ä¸€æ—¥ä¸€æ—¥ã‚’å…¨åŠ›ã§ç”Ÿãã¤ã¤ã€é•·æœŸçš„ãªæˆé•·ã‚‚æ€ ã‚‰ãªã„å§¿å‹¢ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚" },
        { quote: "æœˆãŒç¶ºéº—ã§ã™ã­ã€‚\n\nï¼ˆI love you ã®æ—¥æœ¬çš„è¨³ã¨ã—ã¦ï¼‰", author: "å¤ç›®æ¼±çŸ³", tags: ["æ–‡å­¦", "æ„›"], explanation: "ç›´æ¥çš„ãªè¨€è‘‰ã‚’ä½¿ã‚ãšã€æƒ…æ™¯ã‚’é€šã—ã¦æƒ³ã„ã‚’ä¼ãˆã‚‹æ—¥æœ¬ç‹¬ç‰¹ã®å¥¥ã‚†ã‹ã—ã•ã‚’è±¡å¾´ã™ã‚‹é€¸è©±ã§ã™ã€‚è¨€è‘‰ã®è£ã«ã‚ã‚‹æ„Ÿæƒ…ã‚„æ–‡è„ˆã‚’èª­ã¿è§£ãæ„Ÿæ€§ã®å¤§åˆ‡ã•ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚" },
        { quote: "ã‹ã‘ãŒãˆã®ãªã„äººé–“ã«ãªã‚‹ãŸã‚ã«ã¯ã€å¸¸ã«äººã¨ã¯é•ã£ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚", author: "ã‚³ã‚³ãƒ»ã‚·ãƒ£ãƒãƒ«", tags: ["ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³", "å€‹æ€§"], explanation: "æµè¡Œã‚’è¿½ã†ã®ã§ã¯ãªãã€è‡ªåˆ†ã ã‘ã®ã‚¹ã‚¿ã‚¤ãƒ«ã¨ä¾¡å€¤è¦³ã‚’è²«ãã“ã¨ã®é‡è¦æ€§ã‚’èª¬ã„ã¦ã„ã¾ã™ã€‚ä»–è€…ã¨ã®é•ã„ã‚’æã‚Œãšã€ç‹¬è‡ªã®å€‹æ€§ã‚’ç£¨ãä¸Šã’ã‚‹ã“ã¨ãŒã€å”¯ä¸€ç„¡äºŒã®å­˜åœ¨ã«ãªã‚‹é“ã§ã™ã€‚" },
        { quote: "å¤©æ‰ã¨ã¯ã€1ï¼…ã®ã²ã‚‰ã‚ãã¨99ï¼…ã®åŠªåŠ›ã§ã‚ã‚‹ã€‚", author: "ãƒˆãƒ¼ãƒã‚¹ãƒ»ã‚¨ã‚¸ã‚½ãƒ³", tags: ["åŠªåŠ›", "æˆåŠŸ"], explanation: "å‰å¤§ãªç™ºæ˜ã‚„æˆæœã¯ã€ä¸€ç¬ã®é–ƒãã ã‘ã§ãªãã€ãã‚Œã‚’å½¢ã«ã™ã‚‹ãŸã‚ã®è†¨å¤§ã§åœ°é“ãªåŠªåŠ›ã«ã‚ˆã£ã¦æ”¯ãˆã‚‰ã‚Œã¦ã„ã‚‹ã¨ã„ã†æ•™è¨“ã§ã™ã€‚ç¶™ç¶šçš„ãªåŠªåŠ›ã“ããŒæˆåŠŸã¸ã®éµã§ã™ã€‚" },
        { quote: "æ·±æ·µã‚’ã®ããæ™‚ã€æ·±æ·µã‚‚ã¾ãŸã“ã¡ã‚‰ã‚’ã®ãã„ã¦ã„ã‚‹ã®ã ã€‚", author: "ãƒ•ãƒªãƒ¼ãƒ‰ãƒªãƒ’ãƒ»ãƒ‹ãƒ¼ãƒã‚§", tags: ["å“²å­¦", "å¿ƒç†"], explanation: "æ‚ªã‚„å›°é›£ãªå•é¡Œã¨å¯¾å³™ã™ã‚‹éš›ã€è‡ªåˆ†è‡ªèº«ã‚‚ãã®å½±éŸ¿ã‚’å—ã‘ã€å¤‰è³ªã—ã¦ã—ã¾ã†å±é™ºæ€§ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚å¸¸ã«è‡ªå·±ã‚’å®¢è¦³è¦–ã—ã€é—‡ã«é£²ã¿è¾¼ã¾ã‚Œãªã„å¼·ã„ç²¾ç¥åŠ›ã‚’æŒã¤ã“ã¨ã®é‡è¦æ€§ã‚’èª¬ã„ã¦ã„ã¾ã™ã€‚" },
        { quote: "å¤±æ•—ã—ãŸã¨ã“ã‚ã§ã‚„ã‚ã¦ã—ã¾ã†ã‹ã‚‰å¤±æ•—ã«ãªã‚‹ã€‚æˆåŠŸã™ã‚‹ã¨ã“ã‚ã¾ã§ç¶šã‘ã‚Œã°ã€ãã‚Œã¯æˆåŠŸã«ãªã‚‹ã€‚", author: "æ¾ä¸‹å¹¸ä¹‹åŠ©", tags: ["ãƒ“ã‚¸ãƒã‚¹", "ä¸å±ˆ"], explanation: "å¤±æ•—ã¯çµæœã§ã¯ãªãã€è«¦ã‚ãŸæ™‚ç‚¹ã§ç¢ºå®šã™ã‚‹ã‚‚ã®ã§ã™ã€‚æˆåŠŸã™ã‚‹ã¾ã§è©¦è¡ŒéŒ¯èª¤ã‚’ç¶šã‘ã‚Œã°ã€ã™ã¹ã¦ã®å¤±æ•—ã¯æˆåŠŸã¸ã®ãƒ—ãƒ­ã‚»ã‚¹ã®ä¸€éƒ¨ã¨ãªã‚‹ã¨ã„ã†ã€ä¸å±ˆã®ç²¾ç¥ã‚’èª¬ã„ã¦ã„ã¾ã™ã€‚" },
        { quote: "æ„›ã®åå¯¾ã¯æ†ã—ã¿ã§ã¯ãªãã€ç„¡é–¢å¿ƒã§ã™ã€‚", author: "ãƒã‚¶ãƒ¼ãƒ»ãƒ†ãƒ¬ã‚µ", tags: ["æ„›", "å¹³å’Œ"], explanation: "äººé–“é–¢ä¿‚ã«ãŠã„ã¦æœ€ã‚‚æ®‹é…·ãªã®ã¯ã€ç›¸æ‰‹ã«é–¢å¿ƒã‚’æŒãŸãªã„ã“ã¨ã§ã™ã€‚æ†ã—ã¿ã‚ˆã‚Šã‚‚æ·±ã„æ–­çµ¶ã‚’ç”Ÿã‚€ã€Œç„¡é–¢å¿ƒã€ã‚’ä¹—ã‚Šè¶Šãˆã€å‘¨å›²ã®äººã€…ã«æ„›ã¨é–¢å¿ƒã‚’æŒã£ã¦æ¥ã™ã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚" },
        { quote: "ç”Ÿãã‚‹ã¹ãã‹ã€æ­»ã¬ã¹ãã‹ã€ãã‚ŒãŒå•é¡Œã ã€‚\n\n(To be, or not to be)", author: "ã‚¦ã‚£ãƒªã‚¢ãƒ ãƒ»ã‚·ã‚§ã‚¤ã‚¯ã‚¹ãƒ”ã‚¢", tags: ["æ¼”åŠ‡", "è‹¦æ‚©"], explanation: "ãƒãƒ ãƒ¬ãƒƒãƒˆã®è‹¦æ‚©ã‚’é€šã—ã¦ã€äººç”Ÿã®å²è·¯ã«ãŠã‘ã‚‹æ±ºæ–­ã®é‡ã•ã¨ã€å­˜åœ¨ãã®ã‚‚ã®ã®æ„å‘³ã‚’å•ã„ã‹ã‘ã‚‹è¨€è‘‰ã§ã™ã€‚å›°é›£ã«ç«‹ã¡å‘ã‹ã†ã‹ã€é€ƒã‚Œã‚‹ã‹ã€ç©¶æ¥µã®é¸æŠã‚’è¿«ã‚‰ã‚ŒãŸæ™‚ã®äººé–“ã®å¿ƒç†ã‚’æå†™ã—ã¦ã„ã¾ã™ã€‚" },
        { quote: "æœ€ã‚‚å¼·ã„è€…ãŒç”Ÿãæ®‹ã‚‹ã®ã§ã¯ãªãã€æœ€ã‚‚è³¢ã„è€…ãŒç”Ÿãå»¶ã³ã‚‹ã®ã§ã‚‚ãªã„ã€‚å”¯ä¸€ç”Ÿãæ®‹ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã¯ã€å¤‰åŒ–ã§ãã‚‹è€…ã§ã‚ã‚‹ã€‚", author: "ãƒãƒ£ãƒ¼ãƒ«ã‚ºãƒ»ãƒ€ãƒ¼ã‚¦ã‚£ãƒ³", tags: ["é€²åŒ–", "å¤‰åŒ–"], explanation: "ç’°å¢ƒã®å¤‰åŒ–ã«é©å¿œã™ã‚‹èƒ½åŠ›ã“ããŒã€ç”Ÿå­˜ã¨ç¹æ „ã®æ¡ä»¶ã§ã‚ã‚‹ã¨ã„ã†é€²åŒ–è«–ã®æ•™è¨“ã§ã™ã€‚ç¾ä»£ã®ãƒ“ã‚¸ãƒã‚¹ã‚„ç”Ÿæ´»ã«ãŠã„ã¦ã‚‚ã€å¤‰åŒ–ã‚’æã‚ŒãšæŸ”è»Ÿã«å¯¾å¿œã™ã‚‹åŠ›ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚" },
        { quote: "æˆåŠŸã¯99ï¼…ã®å¤±æ•—ã®ä¸Šã«æˆã‚Šç«‹ã£ã¦ã„ã‚‹ã€‚", author: "æœ¬ç”°å®—ä¸€éƒ", tags: ["ãƒ“ã‚¸ãƒã‚¹", "æŒ‘æˆ¦"], explanation: "å¤šãã®å¤±æ•—ã¨æŒ‘æˆ¦ã®ç©ã¿é‡ã­ãŒã€ä¸€ã¤ã®æˆåŠŸã‚’ç”Ÿã¿å‡ºã™ã¨ã„ã†äº‹å®Ÿã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚å¤±æ•—ã‚’æã‚Œã¦æŒ‘æˆ¦ã‚’é¿ã‘ã‚‹ã®ã§ã¯ãªãã€å¤±æ•—ã‹ã‚‰å­¦ã³ç¶šã‘ã‚‹ã“ã¨ãŒæˆåŠŸã¸ã®è¿‘é“ã§ã™ã€‚" },
        { quote: "æœ€å¤§ã®æ „å…‰ã¯ã€æ±ºã—ã¦è»¢ã°ãªã„ã“ã¨ã«ã‚ã‚‹ã®ã§ã¯ãªã„ã€‚è»¢ã¶ãŸã³ã«èµ·ãä¸ŠãŒã‚Šç¶šã‘ã‚‹ã“ã¨ã«ã‚ã‚‹ã€‚", author: "å­”å­", tags: ["æ€æƒ³", "å„’æ•™"], explanation: "å¤±æ•—ã—ãªã„ã“ã¨ã‚ˆã‚Šã‚‚ã€å¤±æ•—ã‹ã‚‰ç«‹ã¡ç›´ã‚‹ã€Œå›å¾©åŠ›ï¼ˆãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ï¼‰ã€ã«ã“ãäººé–“ã®çœŸä¾¡ãŒã‚ã‚‹ã¨ã„ã†æ•™ãˆã§ã™ã€‚ä½•åº¦è»¢ã‚“ã§ã‚‚ç«‹ã¡ä¸ŠãŒã‚‹ä¸å±ˆã®ç²¾ç¥ãŒã€äººç”Ÿã‚’åˆ‡ã‚Šæ‹“ãã¾ã™ã€‚" },
        { quote: "ä¸–ç•Œã§æœ€ã‚‚ç´ æ™´ã‚‰ã—ãã€æœ€ã‚‚ç¾ã—ã„ã‚‚ã®ã¯ã€ç›®ã§è¦‹ãŸã‚Šæ‰‹ã§è§¦ã‚ŒãŸã‚Šã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãã‚Œã¯å¿ƒã§æ„Ÿã˜ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ã™ã€‚", author: "ãƒ˜ãƒ¬ãƒ³ãƒ»ã‚±ãƒ©ãƒ¼", tags: ["äººç”Ÿ", "å¸Œæœ›"], explanation: "çœŸã«ä¾¡å€¤ã‚ã‚‹ã‚‚ã®ï¼ˆæ„›ã€å‹æƒ…ã€å¸Œæœ›ãªã©ï¼‰ã¯ã€ç‰©è³ªçš„ãªå½¢ã‚’æŒãŸãšã€å¿ƒã§æ„Ÿã˜ã‚‹ã‚‚ã®ã§ã‚ã‚‹ã¨ã„ã†æ•™è¨“ã§ã™ã€‚ç›®ã«è¦‹ãˆã‚‹ã‚‚ã®ã ã‘ã§ãªãã€å†…é¢çš„ãªè±Šã‹ã•ã‚’å¤§åˆ‡ã«ã™ã‚‹ã“ã¨ã®é‡è¦æ€§ã‚’èª¬ã„ã¦ã„ã¾ã™ã€‚" },
        { quote: "ç§ã¯è‡ªåˆ†ãŒä½•ã‚‚çŸ¥ã‚‰ãªã„ã¨ã„ã†ã“ã¨ã‚’çŸ¥ã£ã¦ã„ã‚‹ã€‚\n\nï¼ˆç„¡çŸ¥ã®çŸ¥ï¼‰", author: "ã‚½ã‚¯ãƒ©ãƒ†ã‚¹", tags: ["å“²å­¦", "çŸ¥è­˜"], explanation: "è‡ªåˆ†ã®çŸ¥è­˜ã®é™ç•Œã‚’è‡ªè¦šã™ã‚‹ã“ã¨ï¼ˆç„¡çŸ¥ã®çŸ¥ï¼‰ãŒã€çœŸã®æ¢æ±‚ã®å§‹ã¾ã‚Šã§ã‚ã‚‹ã¨ã„ã†æ•™ãˆã§ã™ã€‚è¬™è™šã•ã‚’æŒã¡ã€å¸¸ã«å­¦ã³ç¶šã‘ã‚‹å§¿å‹¢ã“ããŒã€çŸ¥æµã¸ã®é“ã‚’é–‹ãã¾ã™ã€‚" },
        { quote: "äººé–“ã¯æ‹ã¨é©å‘½ã®ãŸã‚ã«ç”Ÿã¾ã‚Œã¦æ¥ãŸã®ã ã€‚", author: "å¤ªå®°æ²»", tags: ["æ–‡å­¦", "æƒ…ç†±"], explanation: "æƒ…ç†±çš„ãªæ‹æ„›ã¨ã€ç¤¾ä¼šã‚’å¤‰é©ã™ã‚‹é©å‘½ã“ããŒã€äººé–“ãŒç”Ÿãã‚‹æ ¹æºçš„ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã§ã‚ã‚‹ã¨ã„ã†å¤ªå®°æ²»ã®æ€æƒ³ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ç¾çŠ¶ã«å®‰ä½ã›ãšã€æƒ…ç†±ã‚’æŒã£ã¦ç”Ÿãã‚‹ã“ã¨ã®æ„å‘³ã‚’å•ã„ã‹ã‘ã¦ã„ã¾ã™ã€‚" },
        { quote: "äººæ°‘ã®ã€äººæ°‘ã«ã‚ˆã‚‹ã€äººæ°‘ã®ãŸã‚ã®æ”¿æ²»ã€‚", author: "ãƒªãƒ³ã‚«ãƒ¼ãƒ³", tags: ["æ”¿æ²»", "æ°‘ä¸»ä¸»ç¾©"], explanation: "æ°‘ä¸»ä¸»ç¾©ã®æ ¹æœ¬åŸç†ã‚’ç°¡æ½”ã«è¡¨ç¾ã—ãŸè¨€è‘‰ã§ã™ã€‚æ”¿æ²»æ¨©åŠ›ã¯å›½æ°‘ã«ç”±æ¥ã—ã€å›½æ°‘ã«ã‚ˆã£ã¦è¡Œä½¿ã•ã‚Œã€å›½æ°‘ã®åˆ©ç›Šã®ãŸã‚ã«ã‚ã‚‹ã¹ãã ã¨ã„ã†ç†æƒ³ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚" },
        { quote: "äººç”Ÿã¯ã‚¯ãƒ­ãƒ¼ã‚ºã‚¢ãƒƒãƒ—ã§è¦‹ã‚Œã°æ‚²åŠ‡ã ãŒã€ãƒ­ãƒ³ã‚°ã‚·ãƒ§ãƒƒãƒˆã§è¦‹ã‚Œã°å–œåŠ‡ã ã€‚", author: "ãƒãƒ£ãƒ¼ãƒ«ã‚ºãƒ»ãƒãƒ£ãƒƒãƒ—ãƒªãƒ³", tags: ["æ˜ ç”»", "äººç”Ÿè¦³"], explanation: "ç›®å‰ã®è‹¦é›£ã‚‚ã€é•·ã„äººç”Ÿã®ä¸€éƒ¨ã¨ã—ã¦ä¿¯ç°ã™ã‚Œã°ã€ç¬‘ã„è©±ã‚„å–œåŠ‡ã®ä¸€éƒ¨ã«ãªã‚Šå¾—ã‚‹ã¨ã„ã†è¦–ç‚¹ã®è»¢æ›ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚è¾›ã„æ™‚ã“ãã€å®¢è¦³çš„ãªè¦–ç‚¹ã‚’æŒã¤ã“ã¨ã§å¿ƒãŒè»½ããªã‚Šã¾ã™ã€‚" },
        { quote: "èŠ¸è¡“ã¯çˆ†ç™ºã ã€‚", author: "å²¡æœ¬å¤ªéƒ", tags: ["èŠ¸è¡“", "æƒ…ç†±"], explanation: "æ—¢å­˜ã®æ çµ„ã¿ã‚’ç ´å£Šã—ã€å†…ãªã‚‹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’çˆ†ç™ºã•ã›ã‚‹ã“ã¨ã“ããŒèŠ¸è¡“ã®æœ¬è³ªã§ã‚ã‚‹ã¨ã„ã†ä¸»å¼µã§ã™ã€‚å¸¸è­˜ã«ã¨ã‚‰ã‚ã‚Œãšã€è‡ªå·±ã‚’å…¨é¢çš„ã«è¡¨ç¾ã™ã‚‹æƒ…ç†±ã®å¤§åˆ‡ã•ã‚’èª¬ã„ã¦ã„ã¾ã™ã€‚" },
        { quote: "ä¸å¯èƒ½ï¼ˆIMPOSSIBLEï¼‰ãªã‚“ã¦è¨€è‘‰ã¯ãªã„ã‚ã€‚ãã®è¨€è‘‰è‡ªä½“ãŒè¨€ã£ã¦ã„ã‚‹ã®ã‚ˆã€ã€Œç§ã¯å¯èƒ½ï¼ˆI'M POSSIBLEï¼‰ã€ã ã£ã¦ã€‚", author: "ã‚ªãƒ¼ãƒ‰ãƒªãƒ¼ãƒ»ãƒ˜ãƒƒãƒ—ãƒãƒ¼ãƒ³", tags: ["å‰å‘ã", "è‡ªä¿¡"], explanation: "è¨€è‘‰éŠã³ã‚’é€šã—ã¦ã€ä¸å¯èƒ½ã¨æ€ãˆã‚‹çŠ¶æ³ã§ã‚‚ãƒã‚¸ãƒ†ã‚£ãƒ–ãªè¦–ç‚¹ã‚’æŒã¤ã“ã¨ã§ã€å¯èƒ½æ€§ã‚’è¦‹å‡ºã›ã‚‹ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™ã€‚è‡ªä¿¡ã¨å‰å‘ããªå§¿å‹¢ãŒã€é™ç•Œã‚’çªç ´ã™ã‚‹åŠ›ã‚’ä¸ãˆã¦ãã‚Œã¾ã™ã€‚" },
        { quote: "æ—¥æœ¬ã‚’ä»Šä¸€åº¦ã€ã›ã‚“ãŸãï¼ˆæ´—æ¿¯ï¼‰ã„ãŸã—ç”³å€™ã€‚", author: "å‚æœ¬é¾é¦¬", tags: ["æ­´å²", "æ”¹é©"], explanation: "å½“æ™‚ã®æ—¥æœ¬ã®å¤ã„ä½“åˆ¶ã‚„æ…£ç¿’ã‚’ä¸€æ–°ã—ã€æ–°ã—ã„å›½é€ ã‚Šã‚’ç›®æŒ‡ã™ã¨ã„ã†é¾é¦¬ã®å¼·ã„æ±ºæ„ã‚’è¡¨ã—ãŸè¨€è‘‰ã§ã™ã€‚ç¾çŠ¶ã‚’æ‰“ç ´ã—ã€å¤§ããªå¤‰é©ã‚’æˆã—é‚ã’ã‚ˆã†ã¨ã™ã‚‹æ”¹é©è€…ã®ç²¾ç¥ã‚’è±¡å¾´ã—ã¦ã„ã¾ã™ã€‚" },
        { quote: "ç§ã®è¾æ›¸ã«ä¸å¯èƒ½ã¨ã„ã†æ–‡å­—ã¯ãªã„ã€‚", author: "ãƒŠãƒãƒ¬ã‚ªãƒ³ãƒ»ãƒœãƒŠãƒ‘ãƒ«ãƒˆ", tags: ["æ­´å²", "è‡ªä¿¡"], explanation: "å¼·ã„æ„å¿—ã¨è¡Œå‹•åŠ›ãŒã‚ã‚Œã°ã€ã©ã‚“ãªå›°é›£ã‚‚å…‹æœã§ãã‚‹ã¨ã„ã†ãƒŠãƒãƒ¬ã‚ªãƒ³ã®çµ¶å¯¾çš„ãªè‡ªä¿¡ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚é™ç•Œã‚’è‡ªåˆ†ã§æ±ºã‚ã¤ã‘ãšã€å¯èƒ½æ€§ã‚’ä¿¡ã˜ã¦çªãé€²ã‚€ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã®ç²¾ç¥ã§ã™ã€‚" },
        { quote: "æˆ‘æ€ã†ã€ã‚†ãˆã«æˆ‘ã‚ã‚Šã€‚\n\n(Cogito, ergo sum)", author: "ãƒ«ãƒãƒ»ãƒ‡ã‚«ãƒ«ãƒˆ", tags: ["å“²å­¦", "çœŸç†"], explanation: "ã‚ã‚‰ã‚†ã‚‹ã‚‚ã®ã‚’ç–‘ã£ã¦ã‚‚ã€ç–‘ã£ã¦ã„ã‚‹è‡ªåˆ†è‡ªèº«ã®å­˜åœ¨ã ã‘ã¯ç–‘ã„ã‚ˆã†ãŒãªã„ã¨ã„ã†å“²å­¦çš„çœŸç†ã§ã™ã€‚è‡ªå·±ã®æ„è­˜ã¨ç†æ€§ã‚’åŸºç›¤ã¨ã—ã¦ã€çœŸå®Ÿã‚’æ¢æ±‚ã™ã‚‹å§¿å‹¢ã®é‡è¦æ€§ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚" },
        { quote: "é›¨ãƒ‹ãƒ¢ãƒã‚±ã‚ºã€é¢¨ãƒ‹ãƒ¢ãƒã‚±ã‚ºã€‚", author: "å®®æ²¢è³¢æ²»", tags: ["æ–‡å­¦", "å¿è€"], explanation: "ã©ã‚“ãªå›°é›£ã‚„è‹¦ã—ã¿ã«ã‚‚è² ã‘ãšã€é™ã‹ã«å¼·ãç”Ÿãã‚‹ç†æƒ³ã®å§¿ã‚’æã„ãŸè©©ã®ä¸€ç¯€ã§ã™ã€‚é€†å¢ƒã«ãŠã„ã¦ã‚‚åˆ©ä»–çš„ãªç²¾ç¥ã‚’æŒã¡ç¶šã‘ã‚‹ã€æ—¥æœ¬çš„ãªå¿è€ã¨ç¾å¾³ã®ç²¾ç¥ã‚’è¡¨ç¾ã—ã¦ã„ã¾ã™ã€‚" },
        { quote: "æˆåŠŸã¨ã¯ã€æ„æ¬²ã‚’å¤±ã‚ãšã«å¤±æ•—ã‹ã‚‰å¤±æ•—ã¸ã¨é€²ã‚€èƒ½åŠ›ã®ã“ã¨ã ã€‚", author: "ã‚¦ã‚£ãƒ³ã‚¹ãƒˆãƒ³ãƒ»ãƒãƒ£ãƒ¼ãƒãƒ«", tags: ["ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—"], explanation: "å¤±æ•—ã‚’æã‚Œãšã€ä½•åº¦ã¤ã¾ã¥ã„ã¦ã‚‚æƒ…ç†±ã‚’æŒã¡ç¶šã‘ã‚‹ã“ã¨ãŒã€æœ€çµ‚çš„ãªæˆåŠŸã¸ã®å”¯ä¸€ã®é“ã§ã‚ã‚‹ã¨èª¬ã„ã¦ã„ã¾ã™ã€‚ãƒªãƒ¼ãƒ€ãƒ¼ã«ã¨ã£ã¦æœ€ã‚‚é‡è¦ãªè³‡è³ªã¯ã€é€†å¢ƒã«ãŠã‘ã‚‹ä¸å±ˆã®ç²¾ç¥ã§ã™ã€‚" },
        { quote: "æ°´ã«ãªã‚Œã€‚\n\n(Be water, my friend.)", author: "ãƒ–ãƒ«ãƒ¼ã‚¹ãƒ»ãƒªãƒ¼", tags: ["æ­¦é“", "æŸ”è»Ÿæ€§"], explanation: "æ°´ã®ã‚ˆã†ã«å½¢ã«ã¨ã‚‰ã‚ã‚Œãšã€çŠ¶æ³ã«å¿œã˜ã¦æŸ”è»Ÿã«å¤‰åŒ–ã—ã€é©å¿œã™ã‚‹ã“ã¨ã®å¼·ã•ã‚’èª¬ã„ãŸæ•™ãˆã§ã™ã€‚å›ºå®šè¦³å¿µã‚’æ¨ã¦ã€è‡ªç”±è‡ªåœ¨ã«å‹•ãã“ã¨ã§ã€ã‚ã‚‰ã‚†ã‚‹éšœå®³ã‚’ä¹—ã‚Šè¶Šãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚" },
        { quote: "ã‚ãªãŸãŒã€Œã§ãã‚‹ã€ã¨æ€ãŠã†ã¨ã€ã€Œã§ããªã„ã€ã¨æ€ãŠã†ã¨ã€ã©ã¡ã‚‰ã‚‚æ­£ã—ã„ã€‚", author: "ãƒ˜ãƒ³ãƒªãƒ¼ãƒ»ãƒ•ã‚©ãƒ¼ãƒ‰", tags: ["çµŒå–¶", "ãƒã‚¤ãƒ³ãƒ‰"], explanation: "çµæœã¯è‡ªåˆ†ã®ä¿¡å¿µã«ã‚ˆã£ã¦æ±ºã¾ã‚‹ã¨ã„ã†æ³•å‰‡ã§ã™ã€‚ã§ãã‚‹ã¨ä¿¡ã˜ã‚Œã°æ–¹æ³•ã¯è¦‹ã¤ã‹ã‚Šã€ã§ããªã„ã¨ä¿¡ã˜ã‚Œã°è¨€ã„è¨³ãŒè¦‹ã¤ã‹ã‚Šã¾ã™ã€‚ãƒã‚¤ãƒ³ãƒ‰ã‚»ãƒƒãƒˆãŒç¾å®Ÿã‚’å‰µã‚‹ã“ã¨ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚" },
        { quote: "æ€¥ãŒãšã«ã€ã ãŒä¼‘ã¾ãšã«ã€‚", author: "ãƒ¨ãƒãƒ³ãƒ»ãƒ´ã‚©ãƒ«ãƒ•ã‚¬ãƒ³ã‚°ãƒ»ãƒ•ã‚©ãƒ³ãƒ»ã‚²ãƒ¼ãƒ†", tags: ["äººç”Ÿ", "ç¶™ç¶š"], explanation: "ç„¦ã£ã¦çµæœã‚’æ±‚ã‚ã‚‹ã®ã§ã¯ãªãã€ç€å®Ÿã«ä¸€æ­©ãšã¤é€²ã¿ç¶šã‘ã‚‹ã“ã¨ã®é‡è¦æ€§ã‚’èª¬ã„ã¦ã„ã¾ã™ã€‚ç¶™ç¶šã“ããŒåŠ›ãªã‚Šã€‚é•·æœŸçš„ãªè¦–ç‚¹ã§ç‰©äº‹ã«å–ã‚Šçµ„ã¿ã€æ­©ã¿ã‚’æ­¢ã‚ãªã„ã“ã¨ãŒå¤§æˆã¸ã®é“ã§ã™ã€‚" },
        { quote: "äººé–“ã¯ä¸€æœ¬ã®è‘¦ï¼ˆã‚ã—ï¼‰ã«ã™ããªã„ã€‚è‡ªç„¶ã®ä¸­ã§æœ€ã‚‚å¼±ã„ã‚‚ã®ã§ã‚ã‚‹ã€‚ã ãŒã€ãã‚Œã¯è€ƒãˆã‚‹è‘¦ã§ã‚ã‚‹ã€‚", author: "ãƒ–ãƒ¬ãƒ¼ã‚ºãƒ»ãƒ‘ã‚¹ã‚«ãƒ«", tags: ["å“²å­¦", "äººé–“"], explanation: "äººé–“ã¯è‡ªç„¶ç•Œã«ãŠã„ã¦è„†ãå¼±ã„å­˜åœ¨ã§ã™ãŒã€æ€è€ƒã™ã‚‹èƒ½åŠ›ã‚’æŒã¤ã“ã¨ã«ã‚ˆã£ã¦å‰å¤§ã•ã‚’ç²å¾—ã™ã‚‹ã¨ã„ã†æ€æƒ³ã§ã™ã€‚è‚‰ä½“çš„ãªå¼·ã•ã§ã¯ãªãã€çŸ¥æ€§ã¨ç²¾ç¥æ€§ã“ããŒäººé–“ã®å°Šå³ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚" },
        { quote: "èª°ã‚‚ãŒã‚¹ã‚¿ãƒ¼ã§ã‚ã‚Šã€è¼ãæ¨©åˆ©ã‚’æŒã£ã¦ã„ã‚‹ã€‚", author: "ãƒãƒªãƒªãƒ³ãƒ»ãƒ¢ãƒ³ãƒ­ãƒ¼", tags: ["èŠ¸èƒ½", "è‡ªå·±è‚¯å®š"], explanation: "ã™ã¹ã¦ã®äººã«ã¯ç‹¬è‡ªã®é­…åŠ›ã¨æ‰èƒ½ãŒã‚ã‚Šã€ãã‚Œã‚’è¡¨ç¾ã—ã¦è¼ãæ¨©åˆ©ãŒã‚ã‚‹ã¨ã„ã†ã‚¨ãƒ³ãƒ‘ãƒ¯ãƒ¼ãƒ¡ãƒ³ãƒˆã®è¨€è‘‰ã§ã™ã€‚è‡ªåˆ†è‡ªèº«ã‚’ä¿¡ã˜ã€ã‚ã‚Šã®ã¾ã¾ã®è‡ªåˆ†ã‚’è‚¯å®šã™ã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã‚’ä¼ãˆã¦ã„ã¾ã™ã€‚" },
        { quote: "å°ã•ã„ã“ã¨ã‚’ç©ã¿é‡ã­ã‚‹ã®ãŒã€ã¨ã‚“ã§ã‚‚ãªã„ã¨ã“ã‚ã¸è¡ŒããŸã ã²ã¨ã¤ã®é“ã€‚", author: "ã‚¤ãƒãƒ­ãƒ¼", tags: ["ã‚¹ãƒãƒ¼ãƒ„", "åŠªåŠ›"], explanation: "å‰å¤§ãªè¨˜éŒ²ã‚„æˆæœã¯ã€é­”æ³•ã®ã‚ˆã†ãªä¸€æ’ƒã§ã¯ãªãã€æ—¥ã€…ã®åœ°é“ãªåŠªåŠ›ã®ç©ã¿é‡ã­ã«ã‚ˆã£ã¦ã®ã¿é”æˆã•ã‚Œã‚‹ã¨ã„ã†æ•™è¨“ã§ã™ã€‚æ¯æ—¥ã®å°ã•ãªä¸€æ­©ã‚’å¤§åˆ‡ã«ã™ã‚‹ã“ã¨ãŒã€ã‚„ãŒã¦å¤§ããªåˆ°é”ç‚¹ã¸ã¨å°ãã¾ã™ã€‚" },
        { quote: "ã¤ã¾ã¥ã„ãŸã£ã¦ã„ã„ã˜ã‚ƒãªã„ã‹ ã«ã‚“ã’ã‚“ã ã‚‚ã®", author: "ç›¸ç”°ã¿ã¤ã‚’", tags: ["è©©", "ç™’ã‚„ã—"], explanation: "å¤±æ•—ã‚„å¼±ã•ã‚‚äººé–“ã‚‰ã—ã•ã®ä¸€éƒ¨ã¨ã—ã¦å—ã‘å…¥ã‚Œã€è‡ªåˆ†ã‚’è¨±ã™ã“ã¨ã®å¤§åˆ‡ã•ã‚’èª¬ã„ãŸè¨€è‘‰ã§ã™ã€‚å®Œç’§ã§ãªãã¦ã‚‚è‰¯ã„ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã€ç–²ã‚ŒãŸå¿ƒã«å¯„ã‚Šæ·»ã„ã€å†ã³æ­©ãå‡ºã™å‹‡æ°—ã‚’ä¸ãˆã¦ãã‚Œã¾ã™ã€‚" }
    ];

    let currentQuoteData = null; // ç¾åœ¨è¡¨ç¤ºä¸­ã®åè¨€ãƒ‡ãƒ¼ã‚¿
    let filteredQuotes = ALL_QUOTES; // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¾Œã®åè¨€ãƒªã‚¹ãƒˆ
    let currentFilterTag = null; // ç¾åœ¨é©ç”¨ä¸­ã®ã‚¿ã‚°ãƒ•ã‚£ãƒ«ã‚¿
    let currentFilterAuthor = null; // ç¾åœ¨é©ç”¨ä¸­ã®è‘—è€…ãƒ•ã‚£ãƒ«ã‚¿
    let fullShareText = ''; // ã‚³ãƒ”ãƒ¼ç”¨ã®é•·æ–‡ãƒ†ã‚­ã‚¹ãƒˆ
    let shortShareText = ''; // Web Share APIç”¨ã®çŸ­æ–‡ãƒ†ã‚­ã‚¹ãƒˆ
    
    // DOMè¦ç´ ã®å–å¾—
    const quoteTextElement = document.getElementById('quote-text');
    const quoteAuthorElement = document.getElementById('quote-author');
    const generateBtn = document.getElementById('generate-btn');
    const shareBtn = document.getElementById('share-btn');
    const tagsContainer = document.getElementById('tags-container');
    const explanationTextElement = document.getElementById('explanation-text');
    const recommendationArea = document.getElementById('recommendation-area');
    const recommendationLinks = document.getElementById('recommendation-links');
    const filterStatusElement = document.getElementById('filter-status');
    const allQuotesListContent = document.getElementById('all-quotes-list-content');
    const notificationBox = document.getElementById('notification-box');
    const notificationMessage = document.getElementById('notification-message');
    
    // ãƒ¢ãƒ¼ãƒ€ãƒ«é–¢é€£è¦ç´ 
    const shareModal = document.getElementById('share-modal');
    const closeModalBtn = document.getElementById('close-modal-btn');
    const shareTwitterBtn = document.getElementById('share-twitter-btn');
    const shareLineBtn = document.getElementById('share-line-btn');
    const copyTextBtn = document.getElementById('copy-text-btn');
    const modalQuotePreview = document.getElementById('modal-quote-preview');
    
    // å›ºå®šã®å…±æœ‰URL (å®Ÿéš›ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°URLã«ç½®ãæ›ãˆã‚‹)
    const FIXED_SHARE_URL = "https://meigen-kakugen.com/index.html"; 


    // ===================================
    // 2. ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
    // ===================================
    
    /**
     * ç”»é¢ä¸‹éƒ¨ã«é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹
     */
    function showNotification(message) {
        notificationMessage.textContent = message;
        notificationBox.style.opacity = 1;
        
        setTimeout(() => {
            notificationBox.style.opacity = 0;
        }, 3000);
    }
    
    /**
     * ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ã‚¨ãƒªã‚¢ã‚’æ›´æ–°ã™ã‚‹
     */
    function updateRecommendation(quoteData) {
        recommendationLinks.innerHTML = '';
        const author = quoteData.author;
        
        // Wikipediaãƒªãƒ³ã‚¯
        const wikipediaUrl = `https://ja.wikipedia.org/wiki/${encodeURIComponent(author)}`;
        const wikipediaLink = document.createElement('a');
        wikipediaLink.href = wikipediaUrl;
        wikipediaLink.target = '_blank';
        wikipediaLink.rel = 'noopener noreferrer';
        wikipediaLink.className = 'inline-flex items-center text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition duration-150';
        wikipediaLink.innerHTML = `ğŸ“š ${author} ã‚’Wikipediaã§èª¿ã¹ã‚‹`;
        recommendationLinks.appendChild(wikipediaLink);

        // Amazonãƒªãƒ³ã‚¯ï¼ˆè‘—è€…åæ¤œç´¢ï¼‰
        // ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆã‚¿ã‚°ã¯é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„
        const amazonUrl = `https://www.amazon.co.jp/s?k=${encodeURIComponent(author)}&tag=yamano32010e-22`; 
        const amazonLink = document.createElement('a');
        amazonLink.href = amazonUrl;
        amazonLink.target = '_blank';
        amazonLink.rel = 'noopener noreferrer';
        amazonLink.className = 'inline-flex items-center text-sm text-white bg-yellow-500 hover:bg-yellow-600 px-3 py-1 rounded-full transition duration-150 ml-2';
        amazonLink.innerHTML = `ğŸ›’ Amazonã§é–¢é€£æ›¸ç±ã‚’æ¢ã™`;
        recommendationLinks.appendChild(amazonLink);

        recommendationArea.classList.remove('hidden');
    }
    
    /**
     * ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹
     */
    async function copyToClipboard(text) {
        // execCommandã‚’ä½¿ã£ãŸã‚³ãƒ”ãƒ¼å‡¦ç† (äº’æ›æ€§é‡è¦–)
        const tempInput = document.createElement('textarea');
        tempInput.value = text;
        tempInput.style.position = 'absolute';
        tempInput.style.left = '-9999px';
        document.body.appendChild(tempInput);
        tempInput.select();
        
        try {
            const successful = document.execCommand('copy');
            if (successful) {
                showNotification('åè¨€ã¨è§£èª¬ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
            } else {
                showNotification('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
            }
        } catch (err) {
            console.error('Copy failed:', err);
            showNotification('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
        } finally {
            document.body.removeChild(tempInput);
        }
    }
    
    /**
      * ã™ã¹ã¦ã®åè¨€ã‚’é™çš„ã«HTMLã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ (ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼å¯¾ç­–)
      */
    function renderStaticQuotesList() {
        let listHtml = '';
        ALL_QUOTES.forEach((q, index) => {
            // ã‚¿ã‚°ã‚’ã‚¯ãƒªãƒƒã‚¯å¯èƒ½ã«ã™ã‚‹ãŸã‚ã€ã‚¿ã‚°ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒªãƒ³ã‚¯ã‚’ä»˜ä¸
            const tagsHtml = q.tags.map(tag => {
                const tagLink = `?tag=${encodeURIComponent(tag)}`;
                return `<a href="${tagLink}" class="inline-block bg-indigo-100 text-indigo-700 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full hover:bg-indigo-200 transition-colors">#${tag}</a>`;
            }).join('');
            
            // è‘—è€…ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒªãƒ³ã‚¯ã‚’ä»˜ä¸
            const authorLink = `?author=${encodeURIComponent(q.author)}`;

            listHtml += `
                <div class="static-quote-card">
                    <h3 class="static-quote-text">
                        ${index + 1}. ã€Œ${q.quote}ã€
                    </h3>
                    <p class="static-author-text">
                        â€” <a href="${authorLink}" class="text-indigo-600 hover:text-indigo-800 underline">${q.author}</a>
                    </p>
                    <div class="mb-3">
                        ${tagsHtml}
                    </div>
                    <p class="static-explanation-text">
                        <strong class="text-indigo-600">ã€è§£èª¬ã€‘</strong> ${q.explanation}
                    </p>
                </div>
            `;
        });
        allQuotesListContent.innerHTML = listHtml;
    }


    // ===================================
    // 3. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤ºã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    // ===================================
    
    /**
      * ãƒ©ãƒ³ãƒ€ãƒ ãªåè¨€ã‚’é¸æŠã—ã€UIã‚’æ›´æ–°ã™ã‚‹
      */
    function displayRandomQuote() {
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã•ã‚ŒãŸãƒªã‚¹ãƒˆã€ã¾ãŸã¯å…¨ã¦ã®ãƒªã‚¹ãƒˆã‹ã‚‰é¸æŠ
        const quotesToDrawFrom = filteredQuotes.length > 0 ? filteredQuotes : ALL_QUOTES;

        if (quotesToDrawFrom.length === 0) {
            // åè¨€ãŒãªã„å ´åˆã®å‡¦ç†
            quoteTextElement.textContent = "ã“ã®æ¡ä»¶ã®åè¨€ã¯ç¾åœ¨ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ•ã‚£ãƒ«ã‚¿ã‚’è§£é™¤ã—ã¦ã¿ã¦ãã ã•ã„ã€‚";
            quoteAuthorElement.textContent = "â€”";
            tagsContainer.innerHTML = '';
            explanationTextElement.textContent = "ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã•ã‚ŒãŸãƒªã‚¹ãƒˆã«ä¸€è‡´ã™ã‚‹åè¨€ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚";
            shareBtn.disabled = true;
            recommendationArea.classList.add('hidden');
            return;
        }

        // ãƒ©ãƒ³ãƒ€ãƒ ã«åè¨€ã‚’é¸æŠ
        const randomIndex = Math.floor(Math.random() * quotesToDrawFrom.length);
        const quoteData = quotesToDrawFrom[randomIndex];
        currentQuoteData = quoteData; 

        // --- STEP 1: ãƒ†ã‚­ã‚¹ãƒˆã®å…¥ã‚Œæ›¿ãˆã¨è¡¨ç¤º ---
        // æ”¹è¡Œã‚’<br>ã«å¤‰æ›ã—ã¦è¡¨ç¤º
        quoteTextElement.innerHTML = quoteData.quote.replace(/\n/g, '<br>');
        quoteAuthorElement.textContent = `â€” ${quoteData.author}`;
        
        // ã‚¿ã‚°ã®è¡¨ç¤º (ãƒ•ã‚£ãƒ«ã‚¿çŠ¶æ…‹ã‚’åæ˜ )
        displayTags(quoteData.tags);

        // è§£èª¬æ–‡ã‚’è¡¨ç¤º
        explanationTextElement.textContent = quoteData.explanation.trim();

        // ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ãƒªãƒ³ã‚¯ã®æ›´æ–°
        updateRecommendation(quoteData);
        
        // ã‚·ã‚§ã‚¢ãƒ†ã‚­ã‚¹ãƒˆã®æ›´æ–°
        setupShareText(quoteData);

        // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
        quoteTextElement.style.opacity = 1;
        quoteAuthorElement.style.opacity = 1;
        tagsContainer.style.opacity = 1; 
        recommendationArea.style.opacity = 1;
        explanationTextElement.parentNode.style.opacity = 1; 
        recommendationArea.classList.remove('hidden');
        shareBtn.disabled = false;
        
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ä¸­ã§ãªã„å ´åˆã®ã¿é€šçŸ¥
        if (!currentFilterTag && !currentFilterAuthor) {
            showNotification('ä»Šæ—¥ã®æ•™è¨“ã‚’è¡¨ç¤ºã—ã¾ã—ãŸï¼');
        }

        // åºƒå‘Šãƒªãƒ­ãƒ¼ãƒ‰ (AdSenseãŒã‚ã‚‹å ´åˆ)
        if (typeof adsbygoogle !== 'undefined') {
            const adSlots = document.querySelectorAll('.adsbygoogle');
            adSlots.forEach(slot => {
                slot.innerHTML = '';
                (adsbygoogle = window.adsbygoogle || []).push({});
            });
        }
    }
    
    /**
     * åè¨€ã«ä»˜ä¸ã•ã‚ŒãŸã‚¿ã‚°ã‚’ãƒãƒƒã‚¸ã¨ã—ã¦è¡¨ç¤ºã™ã‚‹
     */
    function displayTags(tags) {
        tagsContainer.innerHTML = ''; 
        if (!tags || tags.length === 0) return;
        tags.forEach(tag => {
            const isCurrentFilter = tag === currentFilterTag;
            const tagElement = document.createElement('span');
            tagElement.textContent = `#${tag}`;
            
            let tagClass = 'text-xs font-semibold px-3 py-1 rounded-full shadow-sm whitespace-nowrap fade-in cursor-pointer transition duration-150 m-1';
            
            if (isCurrentFilter) {
                tagClass += ' bg-indigo-600 text-white hover:bg-indigo-700';
            } else {
                tagClass += ' bg-indigo-100 text-indigo-700 hover:bg-indigo-200';
            }
            
            tagElement.className = tagClass;
            tagElement.addEventListener('click', () => filterQuotesByTag(tag));
            tagsContainer.appendChild(tagElement);
        });
    }


    /**
     * ã‚¿ã‚°ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
     */
    function filterQuotesByTag(tag) {
        if (tag === currentFilterTag) {
            // è§£é™¤
            currentFilterTag = null;
            filteredQuotes = ALL_QUOTES;
            filterStatusElement.textContent = "ã™ã¹ã¦ã®æ•™è¨“ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«è¡¨ç¤ºä¸­ (ã‚¿ã‚°ã‚’ã‚¯ãƒªãƒƒã‚¯ã§çµã‚Šè¾¼ã¿)";
        } else {
            // é©ç”¨
            currentFilterTag = tag;
            currentFilterAuthor = null; // è‘—è€…ã®ãƒ•ã‚£ãƒ«ã‚¿ã¯è§£é™¤
            filteredQuotes = ALL_QUOTES.filter(q => q.tags.includes(tag));
            filterStatusElement.innerHTML = `ã‚¿ã‚°: <span class="font-bold text-indigo-600">#${tag}</span> ã§çµã‚Šè¾¼ã¿ä¸­`;
        }
        displayRandomQuote();
    }
    
    /**
     * è‘—è€…ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° (URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿çµŒç”±ãªã©ã§ä½¿ç”¨)
     */
    function filterQuotesByAuthor(author) {
        if (author === currentFilterAuthor) {
            currentFilterAuthor = null;
            filteredQuotes = ALL_QUOTES;
            filterStatusElement.textContent = "ã™ã¹ã¦ã®æ•™è¨“ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«è¡¨ç¤ºä¸­";
        } else {
            currentFilterAuthor = author;
            currentFilterTag = null;
            filteredQuotes = ALL_QUOTES.filter(q => q.author === author);
            filterStatusElement.innerHTML = `è‘—è€…: <span class="font-bold text-indigo-600">${author}</span> ã§çµã‚Šè¾¼ã¿ä¸­`;
        }
        displayRandomQuote();
    }

    /**
     * ã‚·ã‚§ã‚¢ãƒ†ã‚­ã‚¹ãƒˆã®ç”Ÿæˆ
     */
    function setupShareText(quoteData) {
        const { quote, author, explanation, tags } = quoteData;
        const tagStrings = tags.map(tag => `#${tag}`).join(' ');
        
        fullShareText = `ã€ä»Šæ—¥ã®æ•™è¨“ã€‘\nã€Œ${quote}ã€\nâ€” ${author}\n\nã€æ·±æ˜ã‚Šè§£èª¬ã€‘\n${explanation}\n\n${tagStrings}\nğŸ‘‡ç¶šãã¯ã“ã¡ã‚‰\n${FIXED_SHARE_URL}`;
        shortShareText = `ã€Œ${quote}ã€\nâ€” ${author}\n${tagStrings} #åè¨€`;
        
        modalQuotePreview.textContent = `ã€Œ${quote}ã€ â€” ${author}`;
    }
    
    // ===================================
    // 4. ãƒ¢ãƒ¼ãƒ€ãƒ«æ“ä½œã¨å…±æœ‰å‡¦ç†
    // ===================================

    function handleMainShare() {
        if (!currentQuoteData) return;

        if (navigator.share) {
            navigator.share({
                title: 'ã€æ—¥æ›¿ã‚ã‚Šï¼šä»Šæ—¥ã®æ•™è¨“ã€‘',
                text: shortShareText,
                url: FIXED_SHARE_URL, 
            }).catch((error) => {
                if (error.name !== 'AbortError') {
                    openShareModal(); 
                }
            });
        } else {
            openShareModal();
        }
    }

    function openShareModal() {
        if (!currentQuoteData) return;
        setupShareText(currentQuoteData);
        shareModal.style.display = 'flex';
        setTimeout(() => shareModal.classList.remove('modal-leave-to'), 10);
    }

    function closeShareModal() {
        shareModal.classList.add('modal-leave-to');
        setTimeout(() => shareModal.style.display = 'none', 300);
    }

    function shareOnTwitter() {
        const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shortShareText)}&url=${encodeURIComponent(FIXED_SHARE_URL)}`;
        window.open(url, '_blank');
        closeShareModal();
    }

    function shareOnLine() {
        const text = `${shortShareText}\n${FIXED_SHARE_URL}`;
        window.open(`https://line.me/R/msg/text/?${encodeURIComponent(text)}`, '_blank');
        closeShareModal(); 
    }

    // ===================================
    // 5. URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å‡¦ç†
    // ===================================

    function checkUrlParameters() {
        const urlParams = new URLSearchParams(window.location.search);
        const tag = urlParams.get('tag');
        const author = urlParams.get('author');

        if (tag) {
            filterQuotesByTag(decodeURIComponent(tag));
            return true;
        }
        if (author) {
            filterQuotesByAuthor(decodeURIComponent(author));
            return true;
        }
        return false;
    }


    // ===================================
    // 6. åˆæœŸåŒ–
    // ===================================

    generateBtn.addEventListener('click', displayRandomQuote);
    shareBtn.addEventListener('click', handleMainShare);
    closeModalBtn.addEventListener('click', closeShareModal);
    shareModal.addEventListener('click', (e) => {
        if (e.target === shareModal) closeShareModal();
    });
    shareTwitterBtn.addEventListener('click', shareOnTwitter);
    shareLineBtn.addEventListener('click', shareOnLine);
    copyTextBtn.addEventListener('click', async () => {
        await copyToClipboard(fullShareText);
        closeShareModal();
    });

    document.addEventListener('DOMContentLoaded', () => {
        renderStaticQuotesList(); 
        
        const didFilter = checkUrlParameters();
        if (!didFilter) {
            displayRandomQuote();
        }
    });
</script>

</body>
</html>
